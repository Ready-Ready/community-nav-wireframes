<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wireframe Directory</title>
    <style>
        body { font-family: -apple-system, sans-serif; padding: 2rem; background: #f4f6f9; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        h1 { border-bottom: 2px solid #eee; padding-bottom: 10px; }
        details { margin: 10px 0; margin-left: 20px; }
        summary { cursor: pointer; padding: 5px; list-style: none; }
        summary::-webkit-details-marker { display: none; } /* Hide default arrow */
        summary:before { content: '‚ñ∂ '; font-size: 0.8em; color: #777; }
        details[open] > summary:before { content: '‚ñº '; }
        .folder-link { font-weight: bold; color: #0176d3; text-decoration: none; }
        .folder-link:hover { text-decoration: underline; }
        .file { margin-left: 25px; padding: 4px 0; color: #444; }
        a { color: #0b5cab; text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìÅ Project Wireframes</h1>
        <div id="tree-container">Scanning...</div>
    </div>

    <script>
        const username = 'Ready-Ready';
        const repo = 'community-nav-wireframes';
        const branch = 'main'; 

        async function loadTree() {
            try {
                const url = `https://api.github.com/repos/${username}/${repo}/git/trees/${branch}?recursive=1`;
                const response = await fetch(url);
                const data = await response.json();
                
                if (!response.ok) throw new Error(data.message);

                const treeContainer = document.getElementById('tree-container');
                treeContainer.innerHTML = '';

                const structure = {};
                data.tree.forEach(item => {
                    const parts = item.path.split('/');
                    let current = structure;
                    parts.forEach((part, index) => {
                        if (!current[part]) {
                            current[part] = (index === parts.length - 1 && item.type === 'blob') ? item.path : {};
                        }
                        current = current[part];
                    });
                });

                function render(obj, path = '') {
                    let html = '';
                    for (const key in obj) {
                        // Skip root index and system files
                        if (path === '' && key === 'index.html') continue;
                        if (key.startsWith('.') || key.toLowerCase().includes('readme') || key.toLowerCase().includes('instructions')) continue;

                        const fullPath = path + key;

                        if (typeof obj[key] === 'string') {
                            // Render as a File link
                            if (key.endsWith('.html')) {
                                html += `<div class="file">üìÑ <a href="${fullPath}">${key}</a></div>`;
                            }
                        } else {
                            // Render as a Folder (Collapsible arrow + Clickable Name)
                            html += `<details open>
                                        <summary>
                                            <a class="folder-link" href="${fullPath}/">${key}</a>
                                        </summary>
                                        ${render(obj[key], fullPath + '/')}
                                     </details>`;
                        }
                    }
                    return html;
                }

                treeContainer.innerHTML = render(structure);

            } catch (err) {
                document.getElementById('tree-container').innerHTML = '<p style="color:red">Error: ' + err.message + '</p>';
            }
        }
        loadTree();
    </script>
</body>
</html>